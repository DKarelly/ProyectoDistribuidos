<!DOCTYPE html>
<html lang="es">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Huella Feliz</title>
  <!-- Favicon -->
  <link rel="icon" type="image/png" href="files/casitaicon.png">
  <link rel="shortcut icon" type="image/png" href="files/casitaicon.png">
  <!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <!-- Iconos -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
  <!-- Custom CSS -->
  <link rel="stylesheet" href="CSS/estilos.css">
</head>

<body>

  <!-- NAVBAR -->
  <nav class="navbar navbar-expand-lg navbar-light bg-light fixed-top shadow-sm">
    <div class="container">
      <a class="navbar-brand fw-bold text-danger" href="HUELLA FELIZ.html">
        <img src="files/iconomain.jpg" alt="Huella Feliz" width="32" height="32" class="me-2 d-inline-block">
        HUELLA FELIZ
      </a>
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarNav">
        <ul class="navbar-nav ms-auto">
          <li class="nav-item"><a class="nav-link" href="adopciones.html">Adopciones</a></li>
          <li class="nav-item"><a class="nav-link" href="donaciones.html">Donaciones</a></li>
          <li class="nav-item"><a class="nav-link" href="blog.html">Blog</a></li>
          <li class="nav-item"><a class="nav-link" href="reportar.html">Reportar</a></li>
          <li class="nav-item"><a class="nav-link" href="acercaDe.html">Acerca de</a></li>
          <li class="nav-item"><a class="nav-link" id="iniciarSesion" href="iniciarSesion.html">Iniciar Sesion</a></li>
          <li class="nav-item"><a class="nav-link btn-pink-custom ms-2" href="adopciones.html">Adopta aqui</a></li>
        </ul>
      </div>
    </div>
  </nav>

  <!-- HERO -->
  <header class="hero-inicio d-flex align-items-center">
    <div class="container text-center text-lg-start">
      <div class="row align-items-center">
        <div class="col-lg-6">
          <h1 class="fw-bold">Somos La Voz <span class="text-danger">De Los Animales.</span></h1>
          <p>Trabajamos para defender a quienes no pueden hablar.
            Rescatamos, protegemos y damos una nueva oportunidad de vida
            a perros y gatos en situación de abandono, porque creemos que
            cada uno de ellos merece un hogar lleno de amor y respeto.</p>
          <a href="adopciones.html" class="btn btn-pink btn-lg">Adopta Ahora</a>
        </div>
        <div class="col-lg-6 text-center">
          <img src="files/cat_1.png" alt="Animales felices" class="rounded-circle img-fluid shadow">
        </div>
      </div>
    </div>
  </header>

  <!-- QUIENES SOMOS -->
  <section class="py-5 quienes-somos">
    <div class="container text-center">
      <h2 class="mb-4">¿Quiénes somos?</h2>
      <p class="quienes-texto mb-5">
        Somos una organización sin fines de lucro comprometida con el rescate, cuidado
        y protección de animales en situación de abandono.
        Trabajamos de la mano con voluntarios, albergues y familias para ofrecerles
        una segunda oportunidad y un hogar lleno de amor.
      </p>

      <div class="row g-4">
        <div class="col-md-6">
          <div class="card shadow-sm h-100">
            <div id="texto" class="card-body">
              <h5 class="fw-bold">Misión</h5>
              <p>
                Nuestra misión es rescatar, proteger y dar una nueva oportunidad de vida a los animales que se
                encuentran en situación de abandono, maltrato o riesgo. Nos enfocamos en brindarles atención
                veterinaria, alimentación y un espacio seguro mientras esperan ser adoptados por una familia
                responsable.
                Además, buscamos concientizar a la sociedad sobre la importancia de la adopción responsable, la
                esterilización y el respeto hacia los animales, fomentando valores de empatía y cuidado que contribuyan
                a reducir el abandono y mejorar la calidad de vida de miles de seres que no tienen voz.
              </p>
            </div>
          </div>
        </div>

        <div class="col-md-6">
          <div class="card shadow-sm h-100">
            <div id="texto" class="card-body">
              <h5 class="fw-bold">Visión</h5>
              <p>
                Nuestra visión es construir un futuro en el que todos los animales en el Perú vivan con dignidad,
                respeto y amor, libres del abandono y el maltrato. Queremos ser reconocidos como una organización
                referente en la protección y defensa de los animales, inspirando a más personas a involucrarse en esta
                causa.
                Aspiramos a una sociedad más justa y consciente, en la que cada perro y gato tenga la oportunidad de
                pertenecer a un hogar seguro, y donde la cultura del cuidado y la protección animal forme parte de la
                vida diaria de las familias peruanas.
              </p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>


  <!-- REALIDAD -->
  <section class="py-5 realidad">
    <div class="container text-center">
      <h2 class="mb-4">Realidad en el Perú</h2>
      <p>
        En nuestro país, miles de perros y gatos viven en las calles enfrentando hambre, enfermedades y abandono.
        La falta de cultura sobre la tenencia responsable y la escasa práctica de la esterilización han generado un
        grave problema de sobrepoblación animal.
        Cada día, más animales necesitan ayuda y es responsabilidad de todos generar conciencia y acciones que promuevan
        su bienestar y protección.
      </p>
    </div>
  </section>

  <!-- ESTADISTICAS -->
  <section class="py-5 bg-dark text-white text-center">
    <div class="container">
      <div class="row g-4">
        <div class="col-md"><i class="bi bi-heart-fill fs-2"></i>
          <h4>+100</h4>
          <p>Animales rescatados</p>
        </div>
        <div class="col-md"><i class="bi bi-people-fill fs-2"></i>
          <h4>+300</h4>
          <p>Actividades voluntariado</p>
        </div>
        <div class="col-md"><i class="bi bi-person-hearts fs-2"></i>
          <h4>+11052</h4>
          <p>Voluntarios</p>
        </div>
        <div class="col-md"><i class="bi bi-house-heart-fill fs-2"></i>
          <h4>+30</h4>
          <p>Albergues beneficiados</p>
        </div>
        <div class="col-md"><i class="bi bi-scissors fs-2"></i>
          <h4>+3101</h4>
          <p>Esterilizaciones</p>
        </div>
      </div>
    </div>
  </section>

  <!-- ADOPCIÓN -->
  <section class="py-5">
    <div class="container">
      <div class="row align-items-center">

        <!-- Carrusel de imágenes -->
        <div class="col-lg-6 mb-4 mb-lg-0">
          <div id="adopcionCarousel" class="carousel slide" data-bs-ride="carousel" data-bs-interval="2000">
            <div id="carouselInner" class="carousel-inner rounded shadow">
              <!-- Las imágenes se cargarán dinámicamente aquí -->
              <!-- Fallback: imágenes estáticas si no hay animales -->
              <div class="carousel-item active">
                <img src="files/adop_1.jpg" class="d-block w-100" alt="Perro y gato">
              </div>
              <div class="carousel-item">
                <img src="files/adop_2.jpg" class="d-block w-100" alt="Perro feliz">
              </div>
              <div class="carousel-item">
                <img src="files/adop_3.jpg" class="d-block w-100" alt="Gatito">
              </div>
            </div>
            <button class="carousel-control-prev" type="button" data-bs-target="#adopcionCarousel" data-bs-slide="prev">
              <span class="carousel-control-prev-icon"></span>
            </button>
            <button class="carousel-control-next" type="button" data-bs-target="#adopcionCarousel" data-bs-slide="next">
              <span class="carousel-control-next-icon"></span>
            </button>
          </div>
        </div>

        <!-- Texto -->
        <div class="col-lg-6 text-center text-lg-start">
          <h2 class="fw-bold mb-3">Adopción</h2>
          <p>
            Darle un hogar a un animal rescatado es regalarle una nueva vida.
            Tenemos perros y gatos esperando por una familia que les brinde amor y cuidado.
            Cada adopción es un paso más hacia un mundo donde todos los animales sean respetados.
          </p>
          <a href="adopciones.html" class="btn btn-pink btn-lg mt-3">Ir ahora</a>
        </div>

      </div>
    </div>
  </section>


  <!-- CONTACTO -->
  <section class="py-5 contacto">
    <div class="container">
      <h2 class="text-center mb-4">Contactanos</h2>
      <form id="contactoForm" class="row g-3">
        <div class="col-md-6">
          <input type="email" id="emailContacto" class="form-control" placeholder="Ingresar email" required>
          <div id="emailError" class="text-danger small mt-1" style="display: none;">Por favor ingresa un email válido
          </div>
        </div>
        <div class="col-md-6">
          <input type="text" id="numeroContacto" class="form-control" placeholder="Ingresar numero (opcional)">
        </div>
        <div class="col-md-12">
          <input type="text" id="tituloContacto" class="form-control" placeholder="Ingresar titulo" required>
          <div id="tituloError" class="text-danger small mt-1" style="display: none;">Por favor ingresa un título</div>
        </div>
        <div class="col-md-12">
          <textarea id="mensajeContacto" class="form-control" rows="4" placeholder="Ingresar mensaje"
            required></textarea>
          <div id="mensajeError" class="text-danger small mt-1" style="display: none;">Por favor ingresa un mensaje
          </div>
        </div>
        <div class="col-12 text-center">
          <button type="submit" class="btn btn-pink">
            <i class="bi bi-whatsapp me-2"></i>Enviar por WhatsApp
          </button>
        </div>
      </form>
    </div>
  </section>

  <footer class="py-5 bg-pink text-white">
    <div class="container">
      <div class="row">
        <!-- Navegacion -->
        <div class="col-6 col-md-3 mb-4">
          <h5 class="fw-bold">Navegacion</h5>
          <ul class="list-unstyled">
            <li><a href="HUELLA FELIZ.html" class="text-white text-decoration-none">Inicio</a></li>
            <li><a href="donaciones.html" class="text-white text-decoration-none">Donaciones</a></li>
            <li><a href="adopciones.html" class="text-white text-decoration-none">Adopciones</a></li>
            <li><a href="blog.html" class="text-white text-decoration-none">Blog</a></li>
            <li><a href="reportar.html" class="text-white text-decoration-none">Reportar</a></li>
            <li><a href="acercaDe.html" class="text-white text-decoration-none">Acerca de</a></li>
          </ul>
        </div>

        <!-- Redes sociales -->
        <div class="col-6 col-md-3 mb-4">
          <h5 class="fw-bold">Redes sociales</h5>
          <ul class="list-unstyled">
            <li><a href="https://www.facebook.com/PatitasSolidariasChiclayo" target="_blank"
                class="text-white text-decoration-none"><i class="bi bi-facebook me-2"></i>Facebook</a></li>
            <li><a href="https://www.instagram.com/refugioanimal.chiclayo/" target="_blank"
                class="text-white text-decoration-none"><i class="bi bi-instagram me-2"></i>Instagram</a>
            </li>
          </ul>
        </div>

        <!-- About -->
        <div class="col-6 col-md-3 mb-4">
          <h5 class="fw-bold">Acerca de</h5>
          <ul class="list-unstyled">
            <li><a href="#" class="text-white text-decoration-none" data-bs-toggle="modal"
                data-bs-target="#modalPrivacidad">Política de Privacidad</a></li>
            <li><a href="#" class="text-white text-decoration-none" data-bs-toggle="modal"
                data-bs-target="#modalTerminos">Términos y Condiciones</a></li>
          </ul>
        </div>

        <!-- Info -->
        <div class="col-12 col-md-3 mb-4">
          <h5 class="fw-bold">HUELLA FELIZ</h5>
          <p class="small">
            Somos una organizacion dedicada al rescate, adopcion y proteccion de animales en situacion de abandono.
            Unete como voluntario o apoyanos con tus donaciones.
          </p>
        </div>
      </div>

      <!-- Linea inferior -->
      <div class="text-center border-top border-light pt-3 mt-3">
        <p class="mb-0 small">&copy; 2025 Huella Feliz - Todos los derechos reservados</p>
      </div>
    </div>
  </footer>

  <!-- MODAL POLÍTICA DE PRIVACIDAD -->
  <div class="modal fade" id="modalPrivacidad" tabindex="-1" aria-hidden="true">
    <div class="modal-dialog modal-lg modal-dialog-centered">
      <div class="modal-content">
        <div class="modal-header bg-pink text-white">
          <h5 class="modal-title fw-bold">
            <i class="bi bi-shield-lock-fill me-2"></i>
            Política de Privacidad
          </h5>
          <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
        </div>
        <div class="modal-body" style="max-height: 70vh; overflow-y: auto;">
          <div class="mb-4">
            <h6 class="text-danger">1. Información que Recopilamos</h6>
            <p class="small">En Huella Feliz, recopilamos información personal que nos proporcionas voluntariamente
              cuando te registras, realizas donaciones, solicitas adopciones o nos contactas.</p>
            <p class="small"><strong>Tipos de información:</strong> Nombre, correo electrónico, teléfono, dirección,
              información de pago y cualquier otra información que decidas compartir.</p>
          </div>

          <div class="mb-4">
            <h6 class="text-danger">2. Cómo Utilizamos tu Información</h6>
            <ul class="small">
              <li>Procesar adopciones y donaciones</li>
              <li>Comunicarnos contigo sobre nuestros servicios</li>
              <li>Mejorar nuestros programas de rescate animal</li>
              <li>Cumplir con obligaciones legales</li>
              <li>Enviarte actualizaciones sobre nuestros programas (solo si das tu consentimiento)</li>
            </ul>
          </div>

          <div class="mb-4">
            <h6 class="text-danger">3. Protección de Datos</h6>
            <p class="small">Implementamos medidas de seguridad técnicas y organizativas para proteger tu información
              personal contra acceso no autorizado, alteración, divulgación o destrucción.</p>
          </div>

          <div class="mb-4">
            <h6 class="text-danger">4. Tus Derechos</h6>
            <p class="small">Tienes derecho a acceder, rectificar, eliminar u oponerte al procesamiento de tus datos
              personales. Puedes retirar tu consentimiento en cualquier momento.</p>
          </div>

          <div class="mb-4">
            <h6 class="text-danger">5. Contacto</h6>
            <p class="small">Si tienes preguntas sobre esta política de privacidad, contáctanos:</p>
            <ul class="small">
              <li><strong>Email:</strong> privacidad@huellafeliz.org</li>
              <li><strong>Teléfono:</strong> +51 952 225 506</li>
            </ul>
          </div>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-pink" data-bs-dismiss="modal">Cerrar</button>
        </div>
      </div>
    </div>
  </div>

  <!-- MODAL TÉRMINOS Y CONDICIONES -->
  <div class="modal fade" id="modalTerminos" tabindex="-1" aria-hidden="true">
    <div class="modal-dialog modal-lg modal-dialog-centered">
      <div class="modal-content">
        <div class="modal-header bg-pink text-white">
          <h5 class="modal-title fw-bold">
            <i class="bi bi-file-text-fill me-2"></i>
            Términos y Condiciones
          </h5>
          <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
        </div>
        <div class="modal-body" style="max-height: 70vh; overflow-y: auto;">
          <div class="mb-4">
            <h6 class="text-danger">1. Aceptación de los Términos</h6>
            <p class="small">Al acceder y utilizar la plataforma de Huella Feliz, aceptas estar sujeto a estos términos
              y condiciones.</p>
          </div>

          <div class="mb-4">
            <h6 class="text-danger">2. Descripción del Servicio</h6>
            <p class="small">Huella Feliz es una plataforma sin fines de lucro que facilita adopción responsable,
              donaciones, reportes de animales y información sobre protección animal.</p>
          </div>

          <div class="mb-4">
            <h6 class="text-danger">3. Proceso de Adopción</h6>
            <p class="small"><strong>Requisitos:</strong> Ser mayor de 18 años, proporcionar información veraz,
              demostrar capacidad económica y comprometerse al cuidado responsable del animal.</p>
            <p class="small"><strong>Proceso:</strong> Completar formulario, entrevista, firma de contrato y entrega del
              animal.</p>
          </div>

          <div class="mb-4">
            <h6 class="text-danger">4. Donaciones</h6>
            <p class="small">Las donaciones son voluntarias y no reembolsables. Se utilizarán exclusivamente para el
              cuidado de animales y se proporcionarán recibos para donaciones económicas.</p>
          </div>

          <div class="mb-4">
            <h6 class="text-danger">5. Responsabilidades del Usuario</h6>
            <p class="small">Te comprometes a proporcionar información veraz, no utilizar la plataforma para actividades
              ilegales, respetar a otros usuarios y cumplir con las leyes locales sobre tenencia de animales.</p>
          </div>

          <div class="mb-4">
            <h6 class="text-danger">6. Limitación de Responsabilidad</h6>
            <p class="small">Huella Feliz no se hace responsable por el comportamiento de animales adoptados, daños a
              propiedad o gastos veterinarios posteriores a la adopción.</p>
          </div>

          <div class="mb-4">
            <h6 class="text-danger">7. Contacto</h6>
            <p class="small">Para consultas sobre estos términos:</p>
            <ul class="small">
              <li><strong>Email:</strong> legal@huellafeliz.org</li>
              <li><strong>Teléfono:</strong> +51 952 225 506</li>
            </ul>
          </div>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-pink" data-bs-dismiss="modal">Cerrar</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Bootstrap JS -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  <!-- Custom JS -->
  <script src="JS/codigo.js"></script>
  <!-- Script para cargar imágenes de animales en el carrusel -->
  <script>
    document.addEventListener('DOMContentLoaded', async () => {
      try {
        console.log('=== CARGANDO ANIMALES PARA CARRUSEL ===');
        // Obtener animales disponibles desde la API
        const response = await fetch(window.location.origin + '/api/animals/disponibles');
        if (!response.ok) {
          console.error('Error en respuesta:', response.status);
          throw new Error('Error al cargar animales');
        }
        
        const result = await response.json();
        console.log('Resultado completo:', result);
        const animales = result.data || [];
        console.log('Animales recibidos:', animales.length);
        console.log('Primeros 3 animales:', animales.slice(0, 3));
        
        // Recopilar todas las imágenes de los animales
        const imagenesAnimales = [];
        
        for (const animal of animales.slice(0, 12)) { // Revisar hasta 12 animales para obtener más imágenes
          let imagenUrl = null;
          
          // Primero intentar con imagenAnimal del endpoint
          if (animal.imagenAnimal) {
            imagenUrl = `/files/${animal.imagenAnimal}`;
            imagenesAnimales.push({
              url: imagenUrl,
              nombre: animal.nombreanimal || 'Animal',
              id: animal.idanimal
            });
            console.log(`Imagen encontrada para ${animal.nombreanimal} (desde imagenAnimal):`, imagenUrl);
          } else {
            // Si no tiene imagenAnimal, obtener desde la galería del animal
            try {
              const detalleResponse = await fetch(window.location.origin + `/api/animals/${animal.idanimal}`);
              if (detalleResponse.ok) {
                const detalle = await detalleResponse.json();
                const galeria = detalle.data?.galeria || [];
                const primeraImagen = galeria.find(g => g.imagen);
                if (primeraImagen) {
                  imagenUrl = `/files/${primeraImagen.imagen}`;
                  imagenesAnimales.push({
                    url: imagenUrl,
                    nombre: animal.nombreanimal || 'Animal',
                    id: animal.idanimal
                  });
                  console.log(`Imagen encontrada para ${animal.nombreanimal} (desde galería):`, imagenUrl);
                }
              }
            } catch (e) {
              console.warn(`No se pudo obtener detalle para animal ${animal.idanimal}:`, e);
            }
          }
          
          // Limitar a 6 imágenes para el carrusel
          if (imagenesAnimales.length >= 6) break;
        }
        
        console.log('Imágenes recopiladas:', imagenesAnimales.length);
        console.log('Lista de imágenes:', imagenesAnimales);
        
        if (imagenesAnimales.length > 0) {
          const carouselInner = document.getElementById('carouselInner');
          if (carouselInner) {
            // Limpiar el carrusel
            carouselInner.innerHTML = '';
            
            // Crear items del carrusel con las imágenes de los animales
            imagenesAnimales.forEach((item, index) => {
              const carouselItem = document.createElement('div');
              carouselItem.className = index === 0 ? 'carousel-item active' : 'carousel-item';
              
              const img = document.createElement('img');
              img.src = item.url;
              img.className = 'd-block w-100';
              img.alt = item.nombre;
              img.style.height = '350px';
              img.style.objectFit = 'cover';
              img.onerror = function() {
                console.error('Error cargando imagen:', item.url);
                // Si la imagen no carga, usar placeholder
                this.src = `https://placehold.co/600x350?text=${encodeURIComponent(item.nombre)}`;
              };
              
              carouselItem.appendChild(img);
              carouselInner.appendChild(carouselItem);
            });
            
            // Reinicializar el carrusel de Bootstrap
            const carouselElement = document.getElementById('adopcionCarousel');
            if (carouselElement) {
              // Destruir carrusel anterior si existe
              const existingCarousel = bootstrap.Carousel.getInstance(carouselElement);
              if (existingCarousel) {
                existingCarousel.dispose();
              }
              
              const carousel = new bootstrap.Carousel(carouselElement, {
                interval: 2000,
                ride: 'carousel'
              });
              console.log('Carrusel inicializado con', imagenesAnimales.length, 'imágenes');
            }
          }
        } else {
          console.log('No se encontraron imágenes de animales, manteniendo imágenes estáticas');
        }
        // Si no hay animales con imágenes, se mantienen las imágenes estáticas por defecto
      } catch (error) {
        console.error('Error cargando imágenes de animales para el carrusel:', error);
        // Si hay error, se mantienen las imágenes estáticas por defecto
      }
    });
  </script>
  
  <!-- Chat Widget -->
  <link rel="stylesheet" href="/CSS/chatWidget.css">
  <script src="/JS/chatWidget.js" defer></script>
</body>

</html>