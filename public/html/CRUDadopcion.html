<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Módulo de Adopción</title>
    <!-- Favicon -->
    <link rel="icon" type="image/png" href="files/casitaicon.png">
    <link rel="shortcut icon" type="image/png" href="files/casitaicon.png">
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Iconos -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
    <!-- Custom CSS -->
    <link rel="stylesheet" href="CSS/estilosAdop.css">
    <link rel="stylesheet" href="CSS/estilos.css">
    <link rel="stylesheet" href="CSS/EstilosEspecieRaza.css">
    <link rel="stylesheet" href="CSS/EstilosUsuarios.css">
</head>

<body>

    <!-- NAVBAR -->
    <nav class="navbar navbar-expand-lg navbar-light bg-light fixed-top shadow-sm">
        <div class="container">
            <a class="navbar-brand fw-bold text-danger" href="HUELLA FELIZ.html">
                <img src="files/iconomain.jpg" alt="Huella Feliz" width="32" height="32" class="me-2 d-inline-block img-fluid ">
                HUELLA FELIZ
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item"><a class="nav-link" href="adopciones.html">Adopciones</a></li>
                    <li class="nav-item"><a class="nav-link" href="donaciones.html">Donaciones</a></li>
                    <li class="nav-item"><a class="nav-link" href="blog.html">Blog</a></li>
                    <li class="nav-item"><a class="nav-link" href="reportar.html">Reportar</a></li>
                    <li class="nav-item"><a class="nav-link" href="acercaDe.html">Acerca de</a></li>
                    <li class="nav-item"><a class="nav-link" id="iniciarSesion" href="iniciarSesion.html">Iniciar
                            Sesion</a></li>
                    <li class="nav-item"><a class="nav-link btn-pink-custom ms-2" href="adopciones.html">Adopta aqui</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <!-- SECCIÓN PRINCIPAL ACTUALIZADA CON PESTAÑAS -->
    <section class="seccion-adopcion py-5">
        <div class="container text-center">

            <!-- TÍTULO Y BOTÓN -->
            <div class="mb-4">
                <h2 class="fw-bold mb-3">
                    <i class="bi bi-house-heart-fill me-2" style="color:#ff4d88;"></i>
                    Módulo de Adopción
                </h2>
                <button class="btn btn-pink fw-semibold" data-bs-toggle="modal" data-bs-target="#modalRegistrar">
                    <i class="bi bi-plus-circle-fill me-2" style="color:white;"></i>
                    Registrar solicitud de adopción
                </button>
            </div>

            <!-- PESTAÑAS -->
            <ul class="nav nav-tabs justify-content-center mb-4" id="adopTab" role="tablist">
                <li class="nav-item" role="presentation">
                    <button class="nav-link active" id="solicitudes-tab" data-bs-toggle="tab" data-bs-target="#solicitudes"
                        type="button" role="tab" aria-controls="solicitudes" aria-selected="true">Solicitudes</button>
                </li>
                <li class="nav-item" role="presentation">
                    <button class="nav-link" id="adopciones-tab" data-bs-toggle="tab" data-bs-target="#adopciones"
                        type="button" role="tab" aria-controls="adopciones" aria-selected="false">Adopciones</button>
                </li>
            </ul>

            <div class="tab-content" id="adopTabContent">

                <!-- TAB SOLICITUDES -->
                <div class="tab-pane fade show active" id="solicitudes" role="tabpanel" aria-labelledby="solicitudes-tab">
                    <div class="card shadow-sm mb-4 mx-auto" style="max-width: 1100px;">
                        <div class="card-body">
                            <div class="row g-3">
                                <div class="col-12 col-md-4">
                                    <input type="text" id="filtroPersonaSolicitud" class="form-control" placeholder="Buscar por nombre de persona">
                                </div>
                                <div class="col-12 col-md-4">
                                    <input type="text" id="filtroAnimalSolicitud" class="form-control" placeholder="Buscar por nombre del animal">
                                </div>
                                <div class="col-12 col-md-4">
                                    <input type="date" id="filtroFechaSolicitud" class="form-control" placeholder="Fecha de solicitud">
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="table-responsive shadow-sm mx-auto" style="max-width: 1100px;">
                        <div class="table-responsive"><table class="table table-hover align-middle">
                            <thead class="table-pink text-center">
                                <tr>
                                    <th>ID</th>
                                    <th>Persona</th>
                                    <th>Animal</th>
                                    <th>Fecha</th>
                                    <th>Estado</th>
                                    <th>Acciones</th>
                                </tr>
                            </thead>
                            <tbody class="text-center" id="tablaSolicitudes">
                                <!-- Filas dinámicas -->
                            </tbody>
                        </table></div>
                    </div>
                </div>

                <!-- TAB ADOPCIONES -->
                <div class="tab-pane fade" id="adopciones" role="tabpanel" aria-labelledby="adopciones-tab">
                    <div class="card shadow-sm mb-4 mx-auto" style="max-width: 1100px;">
                        <div class="card-body">
                            <div class="row g-3">
                                <div class="col-12 col-md-4">
                                    <input type="text" id="filtroPersonaAdopcion" class="form-control" placeholder="Buscar por nombre de persona">
                                </div>
                                <div class="col-12 col-md-4">
                                    <input type="text" id="filtroAnimalAdopcion" class="form-control" placeholder="Buscar por nombre del animal">
                                </div>
                                <div class="col-12 col-md-4">
                                    <input type="date" id="filtroFechaAdopcion" class="form-control" placeholder="Fecha de adopción">
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="table-responsive shadow-sm mx-auto" style="max-width: 1100px;">
                        <div class="table-responsive"><table class="table table-hover align-middle">
                            <thead class="table-pink text-center">
                                <tr>
                                    <th>ID Adopción</th>
                                    <th>Nombre del animal</th>
                                    <th>Fecha adopción</th>
                                    <th>Nombre adoptante</th>
                                    <th>Acciones</th>
                                </tr>
                            </thead>
                            <tbody class="text-center" id="tablaAdopciones">
                                <!-- Filas dinámicas -->
                            </tbody>
                        </table></div>
                    </div>
                </div>

                <!-- MODAL REGISTRAR SOLICITUD -->
<!-- MODAL REGISTRAR SOLICITUD -->
<div class="modal fade" id="modalRegistrar" tabindex="-1" aria-hidden="true">
    <div class="modal-dialog modal-lg modal-dialog-centered">
        <div class="modal-content modal-modern">

            <!-- HEADER -->
            <div class="modal-header modal-header-gradient text-white bg-primary-subtle border-0 p-2">
                <h6 class="modal-title m-0 small">
                    <i class="bi bi-plus-circle-fill me-2"></i> Registrar Solicitud de Adopción
                </h6>
                <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
            </div>

            <!-- BODY -->
            <div class="modal-body p-3">
                <form id="formRegistrar">
                    <div class="row">

                        <!-- ===================================================
                             COLUMNA IZQUIERDA
                        =================================================== -->
                        <div class="col-md-6 border-end pe-3">

                            <!-- ==================== 1. SOLICITANTE ==================== -->
                            <h6 class="text-secondary fw-bold mb-1 small">
                                <i class="bi bi-person me-1"></i> 1. Solicitante
                            </h6>

                            <label class="form-label small mb-1">Buscar (Nombre o DNI)</label>
                            <div class="input-group input-group-sm mb-1">
                                <input type="text" id="inputPersonaSearch" class="form-control" placeholder="Escriba aquí...">
                                <button type="button" id="btnBuscarPersona" class="btn btn-primary">
                                    <i class="bi bi-search"></i>
                                </button>
                            </div>

                            <!-- NOMBRE DEL SOLICITANTE -->
                            <input type="text" class="form-control form-control-sm mb-3 bg-white"
                                   id="nombrePersonaSeleccionada" readonly
                                   placeholder="Selección Pendiente" required>

                            <!-- ID OCULTO -->
                            <input type="hidden" id="idUsuario" name="idUsuario">

                            <hr class="my-2">

                            <!-- ==================== 2. ANIMAL ==================== -->
                            <h6 class="text-secondary fw-bold mb-1 small">
                                <i class="bi bi-heart me-1"></i> 2. Animal
                            </h6>

                            <label class="form-label small mb-1">Buscar (Nombre del Animal)</label>
                            <div class="input-group input-group-sm mb-1">
                                <input type="text" id="inputAnimalSearch" class="form-control" placeholder="Escriba aquí...">
                                <button type="button" id="btnBuscarAnimal" class="btn btn-primary">
                                    <i class="bi bi-search"></i>
                                </button>
                            </div>

                            <!-- NOMBRE DEL ANIMAL -->
                            <input type="text" class="form-control form-control-sm mb-3 bg-white"
                                   id="nombreAnimalSeleccionado" readonly
                                   placeholder="Selección Pendiente" required>

                            <!-- ID ANIMAL (corregido) -->
                            <input type="hidden" id="idAnimalSeleccionado" name="idAnimal">

                            <hr class="my-2">

                            <!-- ==================== 3. MOTIVO ==================== -->
                            <h6 class="text-secondary fw-bold mb-1 small">
                                <i class="bi bi-pencil-square me-1"></i> 3. Motivo
                            </h6>

                            <label class="form-label small mb-1">Motivo de la Solicitud</label>
                            <textarea id="motivo" name="motivo" class="form-control form-control-sm"
                                      rows="4" placeholder="Explique por qué..." required></textarea>
                        </div>

                        <!-- ===================================================
                             COLUMNA DERECHA
                        =================================================== -->
                        <div class="col-md-6 ps-3 d-flex flex-column">

                            <h6 class="text-primary fw-bold mb-2 small">
                                <i class="bi bi-info-circle me-1"></i> Vistas Previas
                            </h6>

                            <!-- PREVIEW PERSONA -->
                            <div class="p-2 border rounded bg-light mb-2">
                                <span class="fw-bold small text-pink">S.: </span>
                                <span id="previewPersona" class="small text-muted">
                                    Esperando datos de contacto...
                                </span>
                            </div>

                            <!-- PREVIEW ANIMAL -->
                            <div class="p-2 border rounded bg-light mb-2 flex-grow-1">
                                <span class="fw-bold small text-pink">A.: </span>
                                <span id="previewAnimal" class="small text-muted">
                                    Esperando datos del animal...
                                </span>
                            </div>

                            <!-- BOTONES -->
                            <div class="d-flex justify-content-end pt-3 mt-auto" style="gap: 0.5rem;">
                                <button type="button" class="btn btn-outline-secondary btn-sm px-3"
                                        data-bs-dismiss="modal">Cancelar</button>

                                <button type="submit" class="btn btn-success btn-sm px-3" id="btnRegistrarSolicitud">
                                    <i class="bi bi-send-fill me-1"></i> Registrar
                                </button>
                            </div>

                        </div>

                    </div>
                </form>
            </div>

        </div>
    </div>
</div>


            </div>
        </div>
    </section>

    <!-- MODAL VER DETALLE SOLICITUD -->
    <div class="modal fade" id="modalVerSolicitud" tabindex="-1" aria-hidden="true">
        <div class="modal-dialog modal-lg modal-dialog-centered modal-dialog-scrollable">
            <div class="modal-content border-0 shadow">
                <div class="modal-header text-white" style="background: linear-gradient(135deg, #ef7aa1 0%, #ff6b9d 100%);">
                    <h5 class="modal-title">
                        <i class="bi bi-file-earmark-text me-2"></i>
                        Detalle de Solicitud
                    </h5>
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body p-4" id="detalleSolicitudBody" style="max-height: 70vh; overflow-y: auto;">
                    <!-- Contenido dinámico -->
                </div>
                <div class="modal-footer border-top-0">
                    <button class="btn btn-pink" data-bs-dismiss="modal">
                        <i class="bi bi-x-lg me-1"></i> Cerrar
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- MODAL VER DETALLE ADOPCIÓN -->
    <div class="modal fade" id="modalVerAdopcion" tabindex="-1" aria-hidden="true">
        <div class="modal-dialog modal-lg modal-dialog-centered modal-dialog-scrollable">
            <div class="modal-content border-0 shadow">
                <div class="modal-header text-white" style="background: linear-gradient(135deg, #ef7aa1 0%, #ff6b9d 100%);">
                    <h5 class="modal-title">
                        <i class="bi bi-heart-fill me-2"></i>
                        Detalle de Adopción
                    </h5>
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body p-4" id="detalleAdopcionBody" style="max-height: 70vh; overflow-y: auto;">
                    <!-- Contenido dinámico -->
                </div>
                <div class="modal-footer border-top-0">
                    <button class="btn btn-pink" data-bs-dismiss="modal">
                        <i class="bi bi-x-lg me-1"></i> Cerrar
                    </button>
                </div>
            </div>
        </div>
    </div>

    <footer class="py-5 bg-pink text-white">
        <div class="container">
            <div class="row">
                <!-- Navegacion -->
                <div class="col-6 col-md-3 mb-4">
                    <h5 class="fw-bold">Navegacion</h5>
                    <ul class="list-unstyled">
                        <li><a href="HUELLA FELIZ.html" class="text-white text-decoration-none">Inicio</a></li>
                        <li><a href="donaciones.html" class="text-white text-decoration-none">Donaciones</a></li>
                        <li><a href="adopciones.html" class="text-white text-decoration-none">Adopciones</a></li>
                        <li><a href="blog.html" class="text-white text-decoration-none">Blog</a></li>
                        <li><a href="reportar.html" class="text-white text-decoration-none">Reportar</a></li>
                        <li><a href="acercaDe.html" class="text-white text-decoration-none">Acerca de</a></li>
                    </ul>
                </div>

                <!-- Redes sociales -->
                <div class="col-6 col-md-3 mb-4">
                    <h5 class="fw-bold">Redes sociales</h5>
                    <ul class="list-unstyled">
                        <li><a href="https://www.facebook.com/PatitasSolidariasChiclayo" target="_blank"
                                class="text-white text-decoration-none"><i class="bi bi-facebook me-2"></i>Facebook</a>
                        </li>
                        <li><a href="https://www.instagram.com/refugioanimal.chiclayo/" target="_blank"
                                class="text-white text-decoration-none"><i
                                    class="bi bi-instagram me-2"></i>Instagram</a>
                        </li>
                    </ul>
                </div>

                <!-- About -->
                <div class="col-6 col-md-3 mb-4">
                    <h5 class="fw-bold">Acerca de</h5>
                    <ul class="list-unstyled">
                        <li><a href="#" class="text-white text-decoration-none" data-bs-toggle="modal"
                                data-bs-target="#modalPrivacidad">Política de Privacidad</a></li>
                        <li><a href="#" class="text-white text-decoration-none" data-bs-toggle="modal"
                                data-bs-target="#modalTerminos">Términos y Condiciones</a></li>
                    </ul>
                </div>

                <!-- Info -->
                <div class="col-12 col-md-3 mb-4">
                    <h5 class="fw-bold">HUELLA FELIZ</h5>
                    <p class="small">
                        Somos una organizacion dedicada al rescate, adopcion y proteccion de animales en situacion de
                        abandono.
                        Unete como voluntario o apoyanos con tus donaciones.
                    </p>
                </div>
            </div>

            <!-- Linea inferior -->
            <div class="text-center border-top border-light pt-3 mt-3">
                <p class="mb-0 small">&copy; 2025 Huella Feliz - Todos los derechos reservados</p>
            </div>
        </div>
    </footer>

    <!-- MODALES PRIVACIDAD Y TERMINOS (sin cambios) -->
    <div class="modal fade" id="modalPrivacidad" tabindex="-1" aria-hidden="true">
        <div class="modal-dialog modal-lg modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header bg-pink text-white">
                    <h5 class="modal-title fw-bold">
                        <i class="bi bi-shield-lock-fill me-2"></i>
                        Política de Privacidad
                    </h5>
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body" style="max-height: 70vh; overflow-y: auto;">
                    <div class="mb-4">
                        <h6 class="text-danger">1. Información que Recopilamos</h6>
                        <p class="small">En Huella Feliz, recopilamos información personal que nos proporcionas
                            voluntariamente
                            cuando te registras, realizas donaciones, solicitas adopciones o nos contactas.</p>
                        <p class="small"><strong>Tipos de información:</strong> Nombre, correo electrónico, teléfono,
                            dirección,
                            información de pago y cualquier otra información que decidas compartir.</p>
                    </div>

                    <div class="mb-4">
                        <h6 class="text-danger">2. Cómo Utilizamos tu Información</h6>
                        <ul class="small">
                            <li>Procesar adopciones y donaciones</li>
                            <li>Comunicarnos contigo sobre nuestros servicios</li>
                            <li>Mejorar nuestros programas de rescate animal</li>
                            <li>Cumplir con obligaciones legales</li>
                            <li>Enviarte actualizaciones sobre nuestros programas (solo si das tu consentimiento)</li>
                        </ul>
                    </div>

                    <div class="mb-4">
                        <h6 class="text-danger">3. Protección de Datos</h6>
                        <p class="small">Implementamos medidas de seguridad técnicas y organizativas para proteger tu
                            información
                            personal contra acceso no autorizado, alteración, divulgación o destrucción.</p>
                    </div>

                    <div class="mb-4">
                        <h6 class="text-danger">4. Tus Derechos</h6>
                        <p class="small">Tienes derecho a acceder, rectificar, eliminar u oponerte al procesamiento de
                            tus datos
                            personales. Puedes retirar tu consentimiento en cualquier momento.</p>
                    </div>

                    <div class="mb-4">
                        <h6 class="text-danger">5. Contacto</h6>
                        <p class="small">Si tienes preguntas sobre esta política de privacidad, contáctanos:</p>
                        <ul class="small">
                            <li><strong>Email:</strong> privacidad@huellafeliz.org</li>
                            <li><strong>Teléfono:</strong> +51 952 225 506</li>
                        </ul>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-pink" data-bs-dismiss="modal">Cerrar</button>
                </div>
            </div>
        </div>
    </div>

    <div class="modal fade" id="modalTerminos" tabindex="-1" aria-hidden="true">
        <div class="modal-dialog modal-lg modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header bg-pink text-white">
                    <h5 class="modal-title fw-bold">
                        <i class="bi bi-file-text-fill me-2"></i>
                        Términos y Condiciones
                    </h5>
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body" style="max-height: 70vh; overflow-y: auto;">
                    <div class="mb-4">
                        <h6 class="text-danger">1. Aceptación de los Términos</h6>
                        <p class="small">Al acceder y utilizar la plataforma de Huella Feliz, aceptas estar sujeto a
                            estos términos
                            y condiciones.</p>
                    </div>

                    <div class="mb-4">
                        <h6 class="text-danger">2. Descripción del Servicio</h6>
                        <p class="small">Huella Feliz es una plataforma sin fines de lucro que facilita adopción
                            responsable,
                            donaciones, reportes de animales y información sobre protección animal.</p>
                    </div>

                    <div class="mb-4">
                        <h6 class="text-danger">3. Proceso de Adopción</h6>
                        <p class="small"><strong>Requisitos:</strong> Ser mayor de 18 años, proporcionar información
                            veraz,
                            demostrar capacidad económica y comprometerse al cuidado responsable del animal.</p>
                        <p class="small"><strong>Proceso:</strong> Completar formulario, entrevista, firma de contrato y
                            entrega del
                            animal.</p>
                    </div>

                    <div class="mb-4">
                        <h6 class="text-danger">4. Donaciones</h6>
                        <p class="small">Las donaciones son voluntarias y no reembolsables. Se utilizarán exclusivamente
                            para el
                            cuidado de animales y se proporcionarán recibos para donaciones económicas.</p>
                    </div>

                    <div class="mb-4">
                        <h6 class="text-danger">5. Responsabilidades del Usuario</h6>
                        <p class="small">Te comprometes a proporcionar información veraz, no utilizar la plataforma para
                            actividades
                            ilegales, respetar a otros usuarios y cumplir con las leyes locales sobre tenencia de
                            animales.</p>
                    </div>

                    <div class="mb-4">
                        <h6 class="text-danger">6. Limitación de Responsabilidad</h6>
                        <p class="small">Huella Feliz no se hace responsable por el comportamiento de animales
                            adoptados, daños a
                            propiedad o gastos veterinarios posteriores a la adopción.</p>
                    </div>

                    <div class="mb-4">
                        <h6 class="text-danger">7. Contacto</h6>
                        <p class="small">Para consultas sobre estos términos:</p>
                        <ul class="small">
                            <li><strong>Email:</strong> terminos@huellafeliz.org</li>
                            <li><strong>Teléfono:</strong> +51 952 225 506</li>
                        </ul>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-pink" data-bs-dismiss="modal">Cerrar</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="JS/codigo.js"></script>
    <script src="JS/adop.js"></script>
    
    <!-- Estilo moderno basado en usuarios.html -->
    <style id="usuarios-modal-modern-crud-adopcion">
        .modal-modern { border: none; border-radius: 16px; box-shadow: 0 12px 30px rgba(239, 58, 125, 0.25); overflow: hidden; }
        .modal-header-gradient { background: linear-gradient(135deg, #ef7aa1 0%, #ff6b9d 100%) !important; color: #fff; border: none; }
        .btn-pink-modern { background: linear-gradient(135deg, #ef7aa1 0%, #ff6b9d 100%); color: #fff; border: none; box-shadow: 0 6px 16px rgba(239, 58, 125, 0.35); }
        .btn-pink-modern:hover { filter: brightness(1.05); }
        .btn-outline-pink { border: 2px solid #ef7aa1; color: #ef7aa1; background: #fff; }
        .btn-outline-pink:hover { background: #ffe3ed; border-color: #ff6b9d; color: #ff3b7d; }
        .modal-body .form-label { font-weight: 600; color: #ef3b7d; }
        .modal-body .form-control, .modal-body .form-select { border-radius: 10px; border-color: #ffd0de; }
        .modal-body .form-control:focus, .modal-body .form-select:focus { box-shadow: 0 0 0 .25rem rgba(239, 122, 161, .25); border-color: #ef7aa1; }
    </style>
    
    <!-- Chat Widget -->
    <link rel="stylesheet" href="/CSS/chatWidget.css">
    <script src="/JS/chatWidget.js" defer></script>
</body>

</html>



